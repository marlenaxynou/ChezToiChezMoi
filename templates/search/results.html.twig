{# filepath: /Users/marlenaxynou/ChezToiChezMoi/templates/search/results.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Search Results{% endblock %}

{% block body %}
    <div class="search-results-container">
        {% if annonces is empty %}
            <p>Pas de résultats disponibles.</p>
        {% else %}
            <div class="annonces-list">
                {% for annonce in annonces %}
                    <div class="annonce-item">
                        {% if annonce.images|length > 0 %}
                            <img src="{{ asset('uploads/images/' ~ annonce.images|first.chemin) }}" alt="{{ annonce.titre }}">
                        {% else %}
                            <img src="{{ asset('images/default_image.png') }}" alt="Default Image">
                        {% endif %}

                        <div class="annonce-details">
                            <h2>{{ annonce.titre }}</h2>
                            <p>{{ annonce.description }}</p>
                            <p><strong>Prix:</strong> {{ annonce.prix }} € / nuit</p>

                            <a href="{{ path('app_reservation', {'id': annonce.id, 'date_debut': arrival, 'date_fin': departure, 'destination': destination}) }}" class="btn-reserver">
                                Réserver
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
{% endblock %}